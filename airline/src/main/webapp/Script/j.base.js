function matrixMultiply(e,t){function i(e){var t=!1;if(e instanceof Array&&("number"==typeof e[0]&&(t=!0),e[0]instanceof Array)){for(var i=!0,a=0;a<e.length-1;a++)if(e[a].length!=e[a+1].length){i=!1;break}t=i}return t}function a(e,t){return i(e)&&i(t)&&1==n(e)[0]&&1==n(t)[0]&&e.length>0&&e.length==t.length}function n(e){var t=[];return i(e)?(t[0]=e[0].length?e.length:1,t[1]=e[0].length?e[0].length:e.length):console.info("参数不是一个矩阵!"),t}function r(e,t){return n(e)[1]==n(t)[0]}function l(e){var t=n(e);if(1==t[0])return e;if(t[0]>1){for(var i=[],a=0;a<t[1];a++){for(var r=[],l=0;l<t[0];l++)r[l]=e[l][a];i[a]=r}return i}}function o(e,t){try{if(a(e,t)){var i=0;for(var n in e)i+=e[n]*t[n];return i}if("number"==typeof e&&"number"==typeof t)return e*t;if("number"==typeof e||"number"==typeof t)return c(e,t)}catch(r){throw new Error("oneDimensional is exception!")}}function c(e,t){if("number"==typeof e&&i(t)&&1==n(t)[0]||"number"==typeof t&&i(e)&&1==n(e)[0]){var a=[],r=i(e)?e:t,l=i(e)?t:e;for(var o in r)a[o]=l*r[o];return a}}return function(e,t){var i=n(e),a=n(t),c=[];if(1==i[0]&&1==a[0])return o(e,t);if(1!=i[0]&&1==a[0])for(var s=0;s<i[0];s++)c[s]=o(e[s],t);if(r(e,t)){var d=l(t);if(1==i[0])for(var s=0;s<a[1];s++)c[s]=o(e,d[s]);else for(var s=0;s<i[0];s++){for(var u=[],p=0;p<a[1];p++)u[p]=o(e[s],d[p]);c[s]=u}}return c}(e,t)}function redefineJSON(){return{stringify:function(e){var t=function(e){return"[object Array]"==Object.prototype.toString.call(e)},i=function(e){var n="";for(var r in e)switch(typeof e[r]){case"string":n+='"'+r+'":"'+e[r]+'",';break;case"number":case"boolean":n+='"'+r+'":'+e[r]+",";break;default:n+=t(e[r])?'"'+r+'":['+a(e[r])+"],":'"'+r+'":{'+i(e[r])+"},"}return n=n.replace(/,$/g,"")},a=function(e){var n="";for(var r in e)if(e.hasOwnProperty(r))switch(typeof e[r]){case"string":n+='"'+e[r]+'",';break;case"number":case"boolean":n+=e[r]+",";break;default:n+=t(e[r])?"["+a(e[r])+"],":"{"+i(e[r])+"},"}return n=n.replace(/,$/g,"")};return t(e)?"["+a(e)+"]":"{"+i(e)+"}"},parse:function(txt,reviver){function walk(e,t){var i,a,n=e[t];if(n&&"object"==typeof n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a=walk(n,i),void 0!==a?n[i]=a:delete n[i]);return reviver.call(e,t,n)}var obj=eval("("+txt+")");return"function"==typeof reviver?walk({"":obj},""):obj}}}"object"==typeof console?console:window.console={assert:function(){},clear:function(){},count:function(){},debug:function(){},dir:function(){},dirxml:function(){},error:function(){},exception:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},memoryProfile:function(){},memoryProfileEnd:function(){},profile:function(){},profileEnd:function(){},table:function(){},time:function(){},timeEnd:function(){},timeStamp:function(){},trace:function(){},warn:function(){}},"function"!=Array.prototype.indexOf&&(Array.prototype.indexOf=function(e){var t=this.length>>>0,i=Number(arguments[1])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=t);t>i;i++)if(i in this&&this[i]===e)return i;return-1}),window.alert=function(e,t,i,a){function n(e){var t=parseInt(e.currentStyle?e.currentStyle.width:window.getComputedStyle(e).width),i={top:"",left:""};return $.browser.msie&&"6.0"==$.browser.version?(i.top=document.documentElement.clientHeight/3+document.documentElement.scrollTop+"px",i.left=document.documentElement.clientWidth/2-t/2+"px"):(i.top=document.documentElement.clientHeight/3+"px",i.left=document.documentElement.clientWidth/2-t/2+"px"),i}$.isFunction(t)&&(i=t,t={});var r=a||'<span><input type="button" id="_alert_OK" class="button orange long" value="确 定"/></span></div>',l=document.createElement("DIV"),o=document.createElement("DIV");l.id="AlertShield",o.id="AlertFram",l.style.height=document.documentElement.clientHeight+"px",l.style.filter="alpha(opacity=40)",strHtml="<h1>提示信息!</h1>",strHtml+="<h2>"+e+r,o.innerHTML=strHtml,document.body.appendChild(l),document.body.appendChild(o),$("#AlertShield").fadeIn(280,function(){$("#AlertFram").show(),$.browser.msie&&"6.0"==$.browser.version&&$("body").find("select").css("visibility","hidden"),o.style.top=n(o).top,o.style.left=n(o).left}),$("#_alert_OK").click(function(){var e=i,a=t,n=o,r=l;return function(){$("#AlertFram").fadeOut(300,function(){$("#AlertShield").fadeOut(150,function(){document.body.removeChild(n),$.browser.msie&&"6.0"==$.browser.version&&$("body").find("select").css("visibility","visible"),document.body.removeChild(r)})}),e&&e(a)}}());try{_gaq=_gaq||[],_gaq.push(["_trackEvent","alert",location.pathname,e])}catch(c){console.info("trackEvent is error in alert !")}};var checkInput=new function(){this.checkInfo=function(e,t){var i,a=[],n=0,r={},l=!0;for(var o in e){r=t[e[o].attr("name")];for(var c in r)if(i=$.trim(e[o].val()),e[o].val(i),RegExp(r[c].reg).test(i)==r[c].match){l=!1,a[n]={obj:e[o],error:r[c].message},e[o].data("error",r[c].message),n++;break}}return{pass:l,result:a}};var e=function(e){if(e.attr("readonly"))return!1;Tips.clearFloatTips();var t=e.data("error");if(null!==t&&"undefined"!=typeof t)return Tips.floatTips(e,t,15,0),!1;var i=$.trim(e.attr("tips"));return""==i||void 0==i?!1:(Tips.floatTips(e,i,15,0),void 0)},t=function(e,t){return e.attr("readonly")?!1:(Tips.clearFloatTips(),setTimeout(function(){var i,a=checkInput.checkInfo([e],t),n="";if(!a.pass){for(var r in a.result)n=a.result[r].error,i=a.result[r].obj,RegExp("error").test(i.attr("class"))||i.addClass("error"),i.data("error",n),Tips.floatTips(i,n,15,0);return!1}e.removeClass("error").removeData("error")},250),void 0)};this.init=function(i,a){for(var n in i)i[n].focus(function(){e($(this))}),i[n].blur(function(){t($(this),a)})}},Tips=function(){return{floatTips:function(e,t,i,a,n){if(void 0==t||""==t)return!1;try{if(!e.is(":visible"))return!1;var r=e.offset(),l=r.left+e.width()+i,o=r.top+a}catch(c){return!1}n="undefined"==typeof n?"_"+$(".ifr_float_tips").length:"_"+n;var s=$("body"),d="<div class='float_tips' onmouseover='javascript:clearTimeout(window.floatMouseOut);' onmouseout='javascript:Tips.floatIsOut ();' id='float_tips"+n+"' style='top:"+o+"px; left:"+l+"px'>"+t+"</div><iframe class='ifr_float_tips' id='ifr_float_tips"+n+"' style='top:"+o+"px; left:"+l+"px'></iframe>";s.append(d);var u=$("#float_tips"+n),p=u.width()+"px",h=u.height()+"px";$("#ifr_float_tips"+n).css({width:p,height:h})},clearFloatTips:function(e){e?($('body [id="float_tips_'+e+'"]').remove(),$('body [id="ifr_float_tips_'+e+'"]').remove()):$(".float_tips,.ifr_float_tips").remove()},floatIsOut:function(){window.floatMouseOut=setTimeout(function(){Tips.clearFloatTips()},100)}}}(),Format=function(){Number.prototype.toPriceStr=function(){var e=this.toString().split(".");return e[0].split("").reverse().join("").replace(/\d{3}/g,"$&,").replace(/,$/,"").split("").reverse().join("")+(e[1]?"."+e[1]:"")},Number.prototype.doubleDigital=function(){var e=this.toString();return/\d{2}/.test(e)?e:"0"+e},Date.prototype.jetLag=8,Date.prototype.format=function(e){var t;try{t=new Date(this.valueOf()+1e3*60*this.getTimezoneOffset()+1e3*60*60*this.jetLag)}catch(i){t=this}var a={yy:t.getYear()%100,YYYY:t.getFullYear(),MM:(t.getMonth()+1).doubleDigital(),DD:t.getDate().doubleDigital(),M:t.getMonth()+1,d:t.getDate(),week:["星期天","星期一","星期二","星期三","星期四","星期五","星期六"][t.getDay()],hh:t.getHours().doubleDigital(),mm:t.getMinutes().doubleDigital(),ss:t.getSeconds().doubleDigital(),h:t.getHours(),m:t.getMinutes(),s:t.getSeconds()};for(var n in a)e=e.replace(n,a[n]);return e},String.prototype.toDate=function(){var e=this.match(/\d+/g);return new Date(e[0],Number(e[1])-1,e[2])};var e={CNY:"￥",USA:"$",POINT:'<img src="/resource2/images/icon_point.gif" />',DPOINT:'<img src="/resource2/images/icon_point.gif" />'},t=function(){this.currency=function(t){return e[t]||""},this.price=function(e){return e=(e+"").split(".")[0],e.split("").reverse().join("").replace(/\d{3}/g,"$&,").replace(/,$/,"").split("").reverse().join("")},this.curr_price=function(e,t){var i=this.currency(e),a=this.price(t);return i+" "+a},this.encodeCookieStr=function(e){return e.replace(/\{/g,"~").replace(/}/g,"!").replace(/"/g,"'").replace(/:/g,"*")},this.decodeCookieStr=function(e){return e.replace(/~/g,"{").replace(/!/g,"}").replace(/'/g,'"').replace(/\*/g,":")},this.convertDateStr=function(e){var t=e.match(/\d+/g);return t[0]+"年"+t[1]+"月"+t[2]+"日"},this.date2Str=function(e,t){"undefined"==typeof t&&(t="/");var i=Number(e.getMonth()+1);10>i&&(i="0"+i);var a=e.getDate();return 10>a&&(a="0"+a),e.getFullYear()+t+i+t+a},this.str2Date=function(e){var t=e.match(/\d+/g);return new Date(t[0],Number(t[1])-1,t[2])}};return new t}();!function(){for(var e="abbr|address|article|aside|audio|canvas|command|datalist|details|dialog|figure|figcaption|footer|header|hgroup|keygen|mark|meter|menu|menuitem|nav|progress|ruby|section|summary|time|video|fieldset|dir".split("|"),t=0;t<e.length;t++)document.createElement(e[t])}(),function(){function e(e,t){function i(){var i=$.trim(e.val());return i==t?!1:(""==i?(e.addClass("contentTips"),e.val(t)):e.removeClass("contentTips"),void 0)}function a(){var i=$.trim(e.val());return i!=t&&i.length>0?!1:(/contentTips/.test(e.attr("class"))&&e.val("").removeClass("contentTips"),void 0)}var n=this;this.setTxt=function(e){t=e,n.txt=t},this.txt=t,$.trim(e.val())==t?e.addClass("contentTips"):i(),e.bind("blur.inputContentTips",i),e.bind("focus.inputContentTips",a)}if(inputConTips=window.inputConTips||[])for(var t=0;t<inputConTips.length;t++)inputConTips[t].input.length>0&&""!=inputConTips[t].txt&&inputConTips[t].input.data("inputContentTips",new e(inputConTips[t].input,inputConTips[t].txt));inputConTips={push:function(t){t.input.length>0&&""!=t.txt&&t.input.data("inputContentTips",new e(t.input,t.txt))}}}();var _cityData,_domesticHotCity,_i18nHotCity;!function(){var e=!0,t="undefined"==typeof isLocalStorageFlag?e:isLocalStorageFlag,i=-1!=location.host.indexOf("easternmiles.ceair.com")?"":"1",a="http://easternmiles.ceair.com/resource2/js/public/data/city.js",n="_updateTimeStamp"+i,r="_cityData"+i,l="_domesticHotCity"+i,o="_i18nHotCity"+i,c=!0;window.Public=window.Public||{};var s=function(){if(c)try{_cityData=_cityData.replace(/\|\d+/g,""),_domesticHotCity=_domesticHotCity.replace(/\|\d+/g,""),_i18nHotCity=_i18nHotCity.replace(/\|\d+/g,"")}catch(e){}};if(window.Public.filterHotIndex=s,window.localStorage&&t){var d=new Date;if(d=""+d.getFullYear()+d.getMonth()+d.getDate(),localStorage.getItem(n)){var u=localStorage.getItem(n);d!=u&&(localStorage.removeItem(r),localStorage.removeItem(l),localStorage.removeItem(o))}if(localStorage.setItem(n,d),localStorage.getItem(r)&&"undefined"!=localStorage.getItem(r))_cityData=localStorage.getItem(r),_domesticHotCity=localStorage.getItem(l),_i18nHotCity=localStorage.getItem(o),console.log("local storage _cityData exists");else{if("1"==i){var p=function(e){var t=document.createElement("script");t.async=!0,t.type="text/javascript",t.src=e,document.getElementsByTagName("head")[0].appendChild(t)};p(a)}else $.ajax({async:!1,url:a});$(document).ready(function(){return _cityData?(localStorage.setItem(r,_cityData),localStorage.setItem(l,_domesticHotCity),localStorage.setItem(o,_i18nHotCity),console.log("local storage _cityData saved"),void 0):(console.log("_cityData is not ready"),!1)})}}else $.getScript(a);var h=function(e,t,i){var a={airportCode:new RegExp("\\^"+t+"\\|[^\\$]+\\$","gi"),cityCode:new RegExp("\\^[a-z]{3}#?\\|"+t+"\\|[^\\$]+\\$","gi")},n=["airportCd","cityCode","cityNmCn","cityPy","cityPyShort","cityNmEn","airportNmCn","airportPy","airportPyShort","airportNmEn","nation","region"],r=a[e],l=_cityData.match(r)[0].replace("^","").replace("$","").split("|"),o=$.inArray(i,n),c=l[o]||l[2];return c};window.Public.getCityField=h}();var removeLayer=function(){function e(e){function t(e){return document.createElement(e)}var i,a=e.obj,n=e.event,r=this;this.setLayer=function(e){var n,l=e||"removeLayer",o=$(".removeLayer");o.length>0&&o.remove(),i=t("DIV"),i.className=l,i=$(i),i.bind("click",r.bindEvent),n=a.parent(),0==n.length&&(n=$("body")),n.after(i)},this.bindEvent=function(){"function"==typeof n&&n(a),r.remove()},this.remove=function(){i.remove()}}return function(t,i){var a,n=i||!1;t.each(function(t,i){a=$(i),a.data("removeLayer",new e({obj:a,event:n}))})}}(),pubCalendar=new function(){var e={};$.easing.jswing=$.easing.swing,$.extend($.easing,{easeInOutBack:function(e,t,i,a,n,r){return r=r||1.70158,(t/=n/2)<1?a/2*t*t*(((r*=1.525)+1)*t-r)+i:a/2*((t-=2)*t*(((r*=1.525)+1)*t+r)+2)+i},easeInOutElastic:function(e,t,i,a,n){var r=1.70158,l=0,o=a;return 0==t?i:2==(t/=n/2)?i+a:(l||(l=n*.3*1.5),o<Math.abs(a)?(o=a,r=l/4):r=l/(2*Math.PI)*Math.asin(a/o),1>t?-.5*o*Math.pow(2,10*(t-=1))*Math.sin((t*n-r)*2*Math.PI/l)+i:.5*o*Math.pow(2,-10*(t-=1))*Math.sin((t*n-r)*2*Math.PI/l)+a+i)}});var t=new RegExp(/-(?=\d{1}(-|$))/g);this.tostring=function(e){var i=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();return i=i.replace(t,"-0")},this.toObject=function(e){var t=new RegExp(/^(\d{1})$/),i=(e.getMonth()+1+"").replace(t,"0$1"),a=(e.getDate()+"").replace(t,"0$1");return{year:e.getFullYear(),month:i,date:a}},this.addObj=function(t){e[t.attr("name")]=t},this.removeCal=function(){$("#Jcalendar").length>0&&(document.body.removeChild($("#Jcalendar")[0]),$("#ifrcalendar,#removeCal").remove())};var i,a="",n=new RegExp(/\"cell[^"]+\bable\b\"/);this.prevMonth=function(t,r,l){i=e[l],a=i.data("calendar").getWhole({startDate:new Date(t,r-2,1)}).replace('<div class="Jcalendar double" id="Jcalendar">',"").replace(/\<\/div\>&/,""),n.test(a)&&$("#Jcalendar").html(a)},this.nextMonth=function(t,r,l){i=e[l],a=i.data("calendar").getWhole({startDate:new Date(t,r-1,1)}).replace('<div class="Jcalendar double" id="Jcalendar">',"").replace(/\<\/div\>&/,""),n.test(a)&&$("#Jcalendar").html(a)},this.today=function(t){i=e[t],a=i.data("calendar").getWhole({startDate:new Date}).replace('<div class="Jcalendar double" id="Jcalendar">',"").replace(/\<\/div\>&/,""),$("#Jcalendar").html(a)};var t=new RegExp(/-(?=\d{1}(-|$))/g);this.selectDate=function(a,n){i=e[n],a=a.replace(t,"-0"),i.val(a),i.change(),a=a.replace(/\-/g,"/"),i.data("calendar").setConfig({startDate:new Date(a)}),pubCalendar.removeCal()};var r,l,o=["8px","255px"],c=["-350px","515px"];this.showYear=function(t,a,n,s,d){i=e[n],l=i.data("calendar"),r=l.calConfig;var u=l.getYearHtml(r,s,d,a),p=l.getMonthHtml(r,s,d,a),h=$("#Jcalendar"),f=h.find("#Jcal_group0"),v=h.find("#Jcal_group1"),m=new RegExp(/active/);m.test(f.attr("class"))||f.addClass("active"),m.test(v.attr("class"))||v.addClass("active");var y=f.find(".Jcal_body"),g=v.find(".Jcal_body"),b=l.getDateJson(new Date(s,d-1,1)),_=l.getHead(b,a),w=l.tenYearHead(s,d,a,n);f.find(".Year_Months").attr("class","Year_Months year").html(w),v.find(".Year_Months").attr("class","Year_Months month").html(_),y.html("").animate({width:0,height:0,top:"90px",left:c[0]},250,"easeInOutElastic",function(){y.animate({top:"32px",height:"155px",left:o[0],width:"237px"},200,"easeInOutElastic",function(){$(this).html(u)})}),g.html("").animate({width:0,height:0,top:"90px",left:c[1]},250,"easeInOutElastic",function(){g.animate({top:"32px",height:"155px",left:o[1],width:"237px"},200,"easeInOutElastic",function(){$(this).html(p)})})},this.showTenYear=function(t,a,n,r){i=e[r],l=i.data("calendar");var o=l.getTenYearHtml(t,a,n,r);$Jcal_group0=$("#Jcalendar .Jcal_group0"),$Jcal_group0.find(".Year_Months").attr("class","Year_Months tenYear"),$Jcal_group0.find(".Jcal_body").html(o)},this.tenYearSelect=function(e,t,i,a){pubCalendar.showYear("",i,a,e,t,!0)};var s={cn:{year:"年"},en:{year:""}};this.selectYear=function(t,a,n,d,u){i=e[d],l=i.data("calendar"),r=l.calConfig;var p=$(t);if(/selected/.test(p.attr("class")))return!1;p.closest("ul").find(".selected").removeClass("selected"),p.addClass("selected");var h=l.getMonthHtml(r,a,n,u),f=$("#Jcalendar").find("#Jcal_group1"),v=f.find(".Jcal_body");f.find(".Jcal_head").find("#thisYear").text(a+s[r.language].year),v.html("").animate({width:0,height:0,top:"90px",left:c[1]},200,"easeInOutElastic",function(){v.animate({top:"32px",height:"155px",left:o[1],width:"237px"},200,"easeInOutElastic",function(){$(this).html(h)})})},this.selectMonth=function(t,a,n,d,u){var p=$(t);if(/selected/.test(p.attr("class")))return!1;p.closest("ul").find(".selected").removeClass("selected"),p.addClass("selected"),i=e[d],l=i.data("calendar"),r=l.calConfig;var h,f=$("#Jcalendar"),v=f.find("#Jcal_group0"),m=f.find("#Jcal_group1"),y=v.find(".selectYear"),g="",b=50,_="",w="";h=l.getDateJson(new Date(a,n-1,1)),y.length>0&&(b=450,v.find(".Jcal_body").animate({left:c[0]},200,"easeInOutBack",function(){v.find(".Jcal_body").remove()}),m.find(".Jcal_body").animate({left:o[0]},400,"easeInOutBack",function(){g=m.find(".Jcal_body")[0].outerHTML,v.append(g)}),v.find("#thisYear").text(a+s[r.language].year),w=l.getHead(h,u),v.find(".Year_Months").html(w).attr("class","Year_Months month"),m.find(".Year_Months").removeClass("month")),setTimeout(function(){_=l.getGroup(h,1).replace(/^\<[^\<]+>/,"").replace(/\<\/div\>$/,""),m.html(_)},b)},this.showMonth=function(t,a,n,s,d){i=e[n],l=i.data("calendar"),r=l.calConfig;var u=$("#Jcalendar"),p=u.find("#Jcal_group0"),h=l.getMonthHtml(r,s,d,a),f=p.find(".Jcal_body");p.find(".Year_Months").attr("class","Year_Months month"),f.html("").animate({width:0,height:0,top:"90px",left:c[0]},200,"easeInOutElastic",function(){f.animate({top:"32px",height:"155px",left:o[0],width:"237px"},200,"easeInOutElastic",function(){$(this).html(h)})})}},calculateRange=new function(){var e,t,i,a,n,r,l,o,c,s,d,u,p,h,f,v,m,y,g,b,_,w=new RegExp(/\d$/);this.dateRange=function(p,h){if(l=new Date(p[0]),o=new Date(p[1]),d=new Date(h.year,h.month/1-1,1).getTime(),u=new Date(h.year,h.month/1-1,h.dayNum).getTime(),p[0]>=0&&p[1]>=0){if(c=new Date(l).getDate(),s=new Date(o).getDate(),l>u||d>o)return!1;d>=l?(e=0,t=-1,o>=u?(i=0,a=-1,n=1,r=h.dayNum):u>o&&(i=s+1,a=h.dayNum,n=1,r=s)):l>d&&(e=1,t=c,o>=u?(i=0,a=-1,n=c,r=h.dayNum):u>o&&(i=s+1,a=h.dayNum,n=c,r=s))}else if(p[0]>=0&&p[1]<1){if(l>u)return!1;c=new Date(l).getDate(),i=0,a=-1,d>=l?(e=0,t=-1,n=1,r=h.dayNum):(e=1,t=c,n=c,r=h.dayNum)}else p[0]<0&&p[1]>=0?(s=new Date(o).getDate(),e=0,t=-1,o>d?(i=0,a=-1,n=1,r=h.dayNum):u>=o&&(i=s+1,a=h.dayNum,n=1,r=s)):p[0]<0&&p[1]<0&&(e=0,t=-1,i=0,a=-1,n=1,r=h.dayNum);return[e,t,i,a,n,r]},this.monthRange=function(c,s){return l=new Date(c[0]),o=new Date(c[1]),f=l.getFullYear(),v=o.getFullYear(),c[0]<0&&c[1]<0?(e=0,t=-1,i=0,a=-1,n=1,r=12):c[0]>0&&c[1]<0?s>f?(e=0,t=-1,i=0,a=-1,n=1,r=12):(s=f)?(p=l.getMonth(),e=1,t=p+1,i=0,a=-1,n=p+1,r=12):f>s&&(e=0,t=13,i=0,a=-1,n=0,r=-1):c[0]<0&&c[1]>0?v>s?(e=0,t=-1,i=0,a=-1,n=1,r=12):(s=v)?(h=o.getMonth(),e=0,t=-1,i=h+1,a=12,n=1,r=h+1):s>f&&(e=0,t=-1,i=1,a=12,n=0,r=-1):c[0]>0&&c[1]>0&&(f>s||s>v?(e=0,t=-1,i=1,a=12,n=0,r=-1):s==f&&s==v?(p=l.getMonth(),h=o.getMonth(),e=1,t=p,i=p+1,a=12,n=p+1,r=h+1):s>f&&s==v?(h=o.getMonth(),e=0,t=-1,i=h+2,a=12,n=1,r=h+1):v>s&&s==f&&(p=l.getMonth(),e=1,t=p+1,i=0,a=-1,n=p+1,r=12)),[e,t,i,a,n,r]},this.yearRange=function(c,s){return l=new Date(c[0]),o=new Date(c[1]),f=l.getFullYear(),v=o.getFullYear(),m=s-s%10,y=s+(9-s%10),c[0]<0&&c[1]<0?(e=0,t=-1,i=0,a=-1,n=m,r=y):c[0]>0&&c[1]<0?m>f?(e=0,t=-1,i=0,a=-1,n=m,r=y):(m=f)?(e=0,t=-1,i=0,a=-1,n=m,r=y):f>m&&(e=m,t=f,i=0,a=-1,n=f,r=y):c[0]<0&&c[1]>0?v>s?(e=0,t=-1,i=s+1,a=y,n=m,r=s):(s=v)?(e=0,t=-1,i=0,a=-1,n=m,r=y):s>v&&(e=0,t=-1,i=m,a=y,n=0,r=-1):c[0]>0&&c[1]>0&&(f>y||m>v?(e=0,t=-1,i=m,a=y,n=0,r=-1):m>=f&&v>=y?(e=0,t=-1,i=0,a=-1,n=m,r=y):m>=f&&y>=v?(e=0,t=-1,i=v+1,a=y,n=m,r=v):f>=m&&v>=y?(e=m,t=f,i=0,a=-1,n=m,r=y):f>=m&&y>=v&&(e=m,t=f,i=v+1,a=y,n=f,r=v)),[e,t,i,a,n,r]},this.tenYearRange=function(e){return l=new Date(e[0]),o=new Date(e[1]),f=l.getFullYear(),v=o.getFullYear(),g=(f+"").replace(w,0),b=(v+"").replace(w,0),_=b-g,[(g-1930-10)/10,(g-b)/10,(2030-b)/10]}},calendarFuc=function(e){function t(){if(i.hasClass("disabled"))return!1;pubCalendar.removeCal();var t,a,n,r=new RegExp("^((19)|(20))(\\d{2})-((0[1-9])|(1[0-2]))-((0[1-9])|([1-2][0-9])|(3[01]))$"),l=$.trim(i.val());if(r.test(l)){e.startDate=new Date(l.replace(/\-/g,"/")),$("body").append(i.data("calendar").getWhole(e)+v.iframe),n=i[0];try{t=/Chrome/.test(navigator.userAgent)?n.getBoundingClientRect().top+20+document.body.scrollTop+"px":n.getBoundingClientRect().top+20+document.documentElement.scrollTop+"px"}catch(o){t=n.getBoundingClientRect().top+20+document.documentElement.scrollTop+"px"}a=n.getBoundingClientRect().left+document.body.scrollLeft+document.documentElement.scrollLeft+"px",$("#Jcalendar,#ifrcalendar").css({top:t,left:a});var c=$(window);$("#removeCal").css({width:c.width()+"px",height:c.height()+"px",top:(document.documentElement.scrollTop||document.body.scrollTop)+"px"})}else i.val(pubCalendar.tostring(e.startDate)).trigger("click.calendarFuc")}var i=e.$obj,a=e.language;this.calConfig=e;var n={en:{year:"",eyear:"Every year",etyear:"Every ten year",month:"",Mon:"Mon",Tues:"Tue",Wed:"Wed",Thur:"Thu",Fri:"Fri",Sat:"Sat",Sun:"Sun",Jan:"Jan",Feb:"Feb",Mar:"Mar",Apr:"Apr",May:"May",Jun:"Jun",Jul:"Jul",Aug:"Aug",Sep:"Sep",Oct:"Oct",Nov:"Nov",Dec:"Dec",today:"today",close:"close"},cn:{year:"年",eyear:"每年",etyear:"每十年",month:"月",Mon:"一",Tues:"二",Wed:"三",Thur:"四",Fri:"五",Sat:"六",Sun:"日",Jan:"一月",Feb:"二月",Mar:"三月",Apr:"四月",May:"五月",Jun:"六月",Jul:"七月",Aug:"八月",Sep:"九月",Oct:"十月",Nov:"十一月",Dec:"十二月",today:"今天",close:"关闭"}};this.setConfig=function(t){e=$.extend(e,t),a=e.language,i.data("calendar").calConfig=e};var r=function(e,t){var i=0===e%4&&0!==e%100||0===e%400?!0:!1,a=i?[31,29,31,30,31,30,31,31,30,31,30,31]:[31,28,31,30,31,30,31,31,30,31,30,31];return a[t-1]},l=function(){var e={2014:{"01":{"01":"元旦",31:"春节"},"04":{"05":"清明"},"05":{"01":"劳动"},"06":{"02":"端午"},"09":{"08":"中秋"},10:{"01":"国庆"}}};return function(t,i,a){var n=e[i]||!1;if(n){if(n=e[i][a]||!1){var r;for(r in n)t=t.replace(">"+r+"<",">"+n[r]+"<");return t}return t}return t}}();this.getDateJson=function(e){return e=pubCalendar.toObject(e),{year:e.year,month:e.month,nullNum:new Date(e.year+"/"+e.month+"/"+1).getDay(),dayNum:r(e.year,e.month)}};var o,c,s=new RegExp(/(?:(-(?=\d{1}(-|"))))/g),d=new RegExp(/(?:(>(?=\d{1}<)))/g),u=new RegExp('cell(?=[^<>]*?date="'+pubCalendar.tostring(e.today)+'")'),p=e.inputName,h="";this.getDate=function(t){var i="";o=calculateRange.dateRange(e.condition,t),o||(o=[1,t.dayNum,0,-1,0,-1]);for(var a=0;a<t.nullNum;a++)i+='<div class="cell disable"></div>';for(var n=o[0];n<o[1];n++)h=t.year+"-"+t.month+"-"+n,i+='<div class="cell disable" date="'+h+'">'+n+"</div>";for(var r=o[4];r<=o[5];r++)h=t.year+"-"+t.month+"-"+r,onclickTxt="onclick=\"pubCalendar.selectDate('"+h+"'"+","+"'"+p+"'"+')"',i+='<div class="cell able" date="'+h+'" '+onclickTxt+">"+r+"</div>";-1==o[5]&&-1==o[3]&&(o[2]=o[3]=o[1]);for(var f=o[2];f<=o[3];f++)h=t.year+"-"+t.month+"-"+f,i+='<div class="cell disable" date="'+h+'">'+f+"</div>";return c=new RegExp('cell(?=[^<>]*?date="'+pubCalendar.tostring(e.startDate)+'")'),i=i.replace(s,"-0").replace(d,">0").replace(u,"cell today").replace(c,"cell selected"),i=l(i,t.year,t.month)};var f=[null,n[a].Jan,n[a].Feb,n[a].Mar,n[a].Apr,n[a].May,n[a].Jun,n[a].Jul,n[a].Aug,n[a].Sep,n[a].Oct,n[a].Nov,n[a].Dec];this.getMonthHtml=function(e,t,i,a){var n="";o=calculateRange.monthRange(e.condition,t);for(var r=o[0];r<o[1];r++)n+='<li class="cell disable">'+f[r]+"</li>";for(var l=o[4];l<=o[5];l++)onclickTxt='onclick="pubCalendar.selectMonth(this,'+t+","+l+",'"+p+"',"+a+')"',n+='<li class="cell able" '+onclickTxt+">"+f[l]+"</li>";for(var s=o[2];s<=o[3];s++)n+='<li class="cell disable">'+f[s]+"</li>";var d=pubCalendar.toObject(new Date);return c=new RegExp("(?:(cell(?=[^>]+"+d.year+","+d.month/1+")))"),n=n.replace(c,"cell today"),'<div class="selectMonth"><ul>'+n+"</ul></div>"},this.getYearHtml=function(e,t,i,a){var n="";o=calculateRange.yearRange(e.condition,t);for(var r=o[0];r<o[1];r++)n+='<li class="cell disable">'+r+"</li>";for(var l=o[4];l<=o[5];l++)onclickTxt='onclick="pubCalendar.selectYear(this,'+l+","+i+",'"+p+"',"+a+')"',n+='<li class="cell able" '+onclickTxt+">"+l+"</li>";for(var s=o[2];s<=o[3];s++)n+='<li class="cell disable">'+s+"</li>";var d=pubCalendar.toObject(new Date);return c=new RegExp("(?:(cell(?=[^>]+"+d.year+",)))"),n=n.replace(c,"cell today"),'<div class="selectYear"><ul>'+n+"</ul></div>"},this.getTenYearHtml=function(e,t,i,a){var n="",r=1930;o=calculateRange.tenYearRange(e.condition,t);for(var l=0;l<=o[0];l++)n+='<li class="disable" date="'+r+'">'+r+"-<br />"+(r+9)+"</li>",r+=10;for(var c=0;c<=o[1];c++)onclickTxt='onclick="pubCalendar.selectTenYear(this,'+r+","+i+",'"+p+"',"+a+')"',n+='<li class="able" date="'+r+'"'+onclickTxt+">"+r+"-<br />"+(r+9)+"</li>",r+=10;for(var s=0;s<=o[2];s++)n+='<li class="disable" date="'+r+'">'+r+"-<br />"+(r+9)+"</li>",r+=10;return'<div class="selectTenYear"><ul>'+n+"</ul></div>"};var v={Year_Months:{month:'<div class="Month"><div id="thisMonth" name="thisMonth" class="thisMonth" onclick="pubCalendar.showMonth(this,[id],\'[name]\',[year],[month],\'[isDouble]\');">[month]'+n[a].month+"</div></div>",year:'<div name="Year" class="Year"><div name="thisYear" id="thisYear" class="thisYear" onclick="pubCalendar.showYear(this,[id],\'[name]\',[year],[month],\'[isDouble]\');">[year]'+n[a].year+"</div></div>"},weekline:'<ul class="weekline"><li class="weekend">'+n[a].Sun+"</li><li>"+n[a].Mon+"</li><li>"+n[a].Tues+"</li><li>"+n[a].Wed+"</li><li>"+n[a].Thur+"</li><li>"+n[a].Fri+'</li><li class="weekend">'+n[a].Sat+"</li></ul>",Jcal_foot:'<div class="foot"><div onclick="pubCalendar.today(\'[name]\');" class="leftfooter">'+n[a].today+"</div>"+'<div onclick="pubCalendar.removeCal();" class="rightfooter">'+n[a].close+"</div></div>",Jcal_body:'<div class="Jcal_body">[body]</div>',Days:'<div class="Days" name="Days">[Days]</div>',Jcal_group:'<div class="Jcal_group[index]" id="Jcal_group[index]">[group]</div>',Jcal_head:'<div class="Jcal_head"><div class="icon_arrow Prev" id="Prev" onclick="pubCalendar.prevMonth([year],[month],\'[name]\');"></div><div class="Year_Months">[Year_Months]</div><div class="icon_arrow Next" id="Next" onclick="pubCalendar.nextMonth([year],[month],\'[name]\');"></div></div>',Jcalendar:'<div class="Jcalendar [windowNum]" id="Jcalendar">[Jcal_group]</div>',changeYear:'<div class="changeYear" id="changeYear"><div class="cybody"><div id="year1" class="cy"></div><div id="year2" class="cy"></div></div></div>',changeMonth:'<div class="changeMonth" id="changeMonth"></div>',cyhead:'<div class="icon_arrow Prev" id="cyPrev"></div><div class="Year_Months"><div class="oySelect active" value="[year]" onclick="changeYRange(this,1)">'+n[a].eyear+"</div>"+'<div class="tySelect" value="[year]" onclick="changeYRange(this,10);">'+n[a].etyear+'</div></div><div class="icon_arrow Next" id="cyNext"></div>',tenYearSelect:'<div class="selectTenYear"><ul><li onclick="pubCalendar.tenYearSelect(1920,[month],[id],\'[name]\');">1920-<br />1929</li><li onclick="pubCalendar.tenYearSelect(1930,[month],[id],\'[name]\');">1930-<br />1939</li><li onclick="pubCalendar.tenYearSelect(1940,[month],[id],\'[name]\');">1940-<br />1949</li><li onclick="pubCalendar.tenYearSelect(1950,[month],[id],\'[name]\');">1950-<br />1959</li><li onclick="pubCalendar.tenYearSelect(1960,[month],[id],\'[name]\');">1960-<br />1969</li><li onclick="pubCalendar.tenYearSelect(1970,[month],[id],\'[name]\');">1970-<br />1979</li><li onclick="pubCalendar.tenYearSelect(1980,[month],[id],\'[name]\');">1980-<br />1989</li><li onclick="pubCalendar.tenYearSelect(1990,[month],[id],\'[name]\');">1990-<br />1999</li><li onclick="pubCalendar.tenYearSelect(2000,[month],[id],\'[name]\');">2000-<br />2009</li><li onclick="pubCalendar.tenYearSelect(2010,[month],[id],\'[name]\');">2010-<br />2019</li><li onclick="pubCalendar.tenYearSelect(2020,[month],[id],\'[name]\');">2020-<br />2029</li><li onclick="pubCalendar.tenYearSelect(2030,[month],[id],\'[name]\');">2030-<br />2039</li><li onclick="pubCalendar.tenYearSelect(2040,[month],[id],\'[name]\');">2040-<br />2049</li><li onclick="pubCalendar.tenYearSelect(2050,[month],[id],\'[name]\');">2050-<br />2059</li><li onclick="pubCalendar.tenYearSelect(2060,[month],[id],\'[name]\');">2060-<br />2069</li><li onclick="pubCalendar.tenYearSelect(2070,[month],[id],\'[name]\');">2070-<br />2079</li></ul></div>',iframe:'<iframe id="ifrcalendar" class="ifrcalendar"></iframe><div id="removeCal" onclick="pubCalendar.removeCal();"></div>',tenYearHead:'<div class="tenYear" onclick="pubCalendar.showTenYear([year],[month],[id],\'[name]\')">[tenYear]</div>'};this.getHead=function(e,t){return(v.Year_Months.year+v.Year_Months.month).replace(/\[year\]/g,e.year).replace(/\[month\]/g,e.month).replace(/\[id\]/g,t).replace(/\[name\]/g,p)},this.tenYearHead=function(e,t,i,a){var n=e-e%10,r=n+"-"+(n+9);return v.tenYearHead.replace("[year]",e).replace("[month]",t).replace("[id]",i).replace("[tenYear]",r).replace("[name]",a)},this.getTenYearHtml=function(e,t,i,a){var n=new RegExp(/\[year\]/g),r=new RegExp(/\[month\]/g),l=new RegExp(/\[id\]/g),o=new RegExp(/\[name\]/g);return v.tenYearSelect.replace(n,e).replace(r,t).replace(l,i).replace(o,a)},this.getGroup=function(t,a){var n=v.Jcal_head.replace("[Year_Months]",i.data("calendar").getHead(t,a)).replace(/\[year\]/g,t.year).replace(/\[month\]/g,t.month),r=v.Jcal_body.replace("[body]",v.weekline+v.Days.replace("[Days]",i.data("calendar").getDate(t)));return v.Jcal_group.replace(/\[index\]/g,a).replace("[group]",n+r+v.Jcal_foot).replace(/\'\[isDouble\]\'/g,e["double"]).replace(/\[name\]/g,p)},this.getWhole=function(e){var t=[],a=[],n=i.data("calendar");return a[0]={},a[1]={},t[0]=n.getDateJson(e.startDate),t[1]=n.getDateJson(new Date(e.startDate.getFullYear(),e.startDate.getMonth()+1,1)),a[0].getGroup=n.getGroup(t[0],0),a[1].getGroup=n.getGroup(t[1],1),v.Jcalendar.replace("[windowNum]","double").replace("[Jcal_group]",a[0].getGroup+a[1].getGroup)},""==$.trim(i.val())&&i.val(pubCalendar.tostring(e.startDate)),i.bind("click.calendarFuc",t)};!function(e){e.fn.Jcalendar=function(t){var i=e(this),a=e.extend({$obj:i,"double":!0,condition:[-1,-1],startDate:new Date,inputName:i.attr("name"),today:new Date,language:"cn"},t);i.data("calendar",new calendarFuc(a)),pubCalendar.addObj(i)}}(jQuery),jQuery.cookie=function(e,t,i){if("undefined"==typeof t){var a=null;if(document.cookie&&""!=document.cookie)for(var n=document.cookie.split(";"),r=0;r<n.length;r++){var l=jQuery.trim(n[r]);if(l.substring(0,e.length+1)==e+"="){a=decodeURIComponent(l.substring(e.length+1));break}}return a}i=i||{},null===t&&(t="",i=$.extend({},i),i.expires=-1);var o="";if(i.expires&&("number"==typeof i.expires||i.expires.toUTCString)){var c;"number"==typeof i.expires?(c=new Date,c.setTime(c.getTime()+1e3*60*60*24*i.expires)):c=i.expires,o="; expires="+c.toUTCString()}var s=i.path?"; path="+i.path:"",d=i.domain?"; domain="+i.domain:"",u=i.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),o,s,d,u].join("")},function(e){e.fn.doubleSelect=function(t,i,a){a=e.extend({preselectFirst:null,preselectSecond:null,emptyOption:!1,emptyKey:-1,emptyValue:"Choose ..."},a||{});var n=this,r=e("#"+t),l=function(e){r.val(e).change()},o=function(){e("#"+t+" option").remove()};return e(this).change(function(){o(),$current=this.options[this.selectedIndex].value,""!=$current?e.each(i,function(t,i){$current==i.key&&e.each(i.values,function(t,n){var l=e("<option>").html(t).attr("value",n);null!=i.defaultvalue&&n==i.defaultvalue&&l.html(t).attr("selected","selected"),null!=a.preselectSecond&&n==a.preselectSecond&&l.html(t).attr("selected","selected"),l.appendTo(r)})}):l(a.emptyValue)}),this.each(function(){if(n.children().remove(),r.children().remove(),a.emptyOption){var t=e("<option>").html(a.emptyValue).attr("value",a.emptyKey);t.appendTo(n)}e.each(i,function(t,i){var r=e("<option>").html(t).attr("value",i.key);null!=a.preselectFirst&&i.key==a.preselectFirst&&r.html(t).attr("selected","selected"),r.appendTo(n)}),null==a.preselectFirst?($current=this.options[this.selectedIndex].value,""!=$current?e.each(i,function(t,i){$current==i.key&&e.each(i.values,function(t,n){var l=e("<option>").html(t).attr("value",n);
null!=i.defaultvalue&&n==i.defaultvalue&&l.html(t).attr("selected","selected"),null!=a.preselectSecond&&n==a.preselectSecond&&l.html(t).attr("selected","selected"),l.appendTo(r)})}):l(a.emptyValue)):n.change()})}}(jQuery),function(e){var t=0,i=100,a='<iframe id="iframe_ie6" frameborder="0" style="left:[left1];top:[top1];"></iframe>',n=[13,38,40,37,39];e.fn.jCity=function(r){var l=e(this);l.attr("name");var o="",c={behaviorFlag:!0,showQuickSelectFlag:!0,showSearchFlag:!0,dataSource:null,width:200,height:200,leftOffset:0,topOffset:0,dHot:null,iHot:null,dCity:null,iCity:null},s=e.extend(c,r),d=null==s.dCity?!1:!0,u=null==s.iCity?!1:!0,p="",h="",f='<li class="li" code="[code]" region="[region]" nation="[nation]" cityCode="[cityCode]"><span>[txt]</span></li>',v="domestic",m="i18n",y="search",g='<li tips="domestic_city">国内</li>',b='<li tips="inter_city">国际/地区</li>',_='<div id="hot_city_1" class="city" style="display:block;"><ul>[li]</ul></div>',w={spanWrapper:'<span class="city_box"></span>',searchDiv:'<div id="searchDiv"><ul></ul></div>',hotCityTitle:'<div class="tips"> <b>热门城市</b>（可直接输入城市名称或城市拼音）<span></span></div>',typeTitle:'<div class="type"><ul><li class="active" tips="domestic_city">国内</li><li style="margin-right:0;" tips="inter_city">国际/地区</li></ul><div class="clear"></div></div>',domesticCityWrapper:'<div class="type_city_body" id="domestic_city" ><div class="hotCity"><div class="title"><div class="col active" tips="hot_city_1">热门城市</div><div class="col" tips="hot_city_2">ABCDEFGH</div><div class="col" tips="hot_city_3">IJKLMNOP</div><div class="col" tips="hot_city_4">QRSTUVWXYZ</div><div class="clear"></div></div><div class="city_body">[divs]<div class="clear"></div></div></div></div>',i18nCityWrapper:'<div class="type_city_body" id="inter_city" style="display:none;"><div class="hotCity"><div class="title"><div class="col active" tips="hot_city_1">热门城市</div><div class="col" tips="hot_city_2">欧洲</div><div class="col" tips="hot_city_3">亚洲</div><div class="col" tips="hot_city_4">美洲</div><div class="col" tips="hot_city_5">澳洲</div><div class="clear"></div></div><div class="city_body">[divs]<div class="clear"></div></div></div></div>'},C=function(t,i){var a=t.replace("^","").replace("$","").split("|"),n={},r=e.trim(a[0]),l=e.trim(a[1]),o=e.trim(a[2]),c=e.trim(a[3]);e.trim(a[4]),e.trim(a[5]);var s=e.trim(a[6]);e.trim(a[7]),e.trim(a[8]),e.trim(a[9]);var d,u,p=e.trim(a[10]),h=e.trim(a[11]);return null!=i&&i==v?(u=o,n.key=c.substring(0,1).toUpperCase()):null!=i&&i==m?(u=o,n.key=h):u=null!=i&&i==y?o+(""==s?"":"("+s+")"):o,d=f.replace("[code]",r).replace("[region]",h).replace("[nation]",p).replace("[cityCode]",l).replace("[txt]",u),n.li=d,n},$=function(t,i){var a,n="";a=i==v?[{key:"ABCDEFGH",list:new Array,template:'<div id="hot_city_2" class="city"><ul>[li]</ul></div>'},{key:"IJKLMNOP",list:new Array,template:'<div id="hot_city_3" class="city"><ul>[li]</ul></div>'},{key:"QRSTUVWXYZ",list:new Array,template:'<div id="hot_city_4" class="city"><ul>[li]</ul></div>'}]:[{key:"EU",list:new Array,template:'<div id="hot_city_2" class="city"><ul>[li]</ul></div>'},{key:"TH, JP, KO, EA",list:new Array,template:'<div id="hot_city_3" class="city"><ul>[li]</ul></div>'},{key:"AM",list:new Array,template:'<div id="hot_city_4" class="city"><ul>[li]</ul></div>'},{key:"AU",list:new Array,template:'<div id="hot_city_5" class="city"><ul>[li]</ul></div>'}];for(var r=0;r<t.length;r++)if(-1!=t[r].indexOf("#")){var l=C(t[r],i);e.each(a,function(e,t){var i=t.key;-1!=i.indexOf(l.key)&&""!=l.key&&t.list.push(l.li)})}return e.each(a,function(e,t){for(var i="",a=0;a<t.list.length;a++)i+=t.list[a];var r=t.template.replace("[li]",i);n+=r}),n},x=function(e){for(var t="",i=0;i<e.length;i++){var a=C(e[i]);t+=a.li}return _.replace("[li]",t)},D=function(){o="",p="",h="";var t="",i=0;d&&(p=x(s.dHot),p+=$(s.dCity,v),t+=g,i++,p=w.domesticCityWrapper.replace("[divs]",p)),u&&(h=x(s.iHot),h+=$(s.iCity,m),t+=b,i++,h=w.i18nCityWrapper.replace("[divs]",h)),2>i&&(t+="<li></li>"),t='<div class="type"><ul>'+t+'</ul><div class="clear"></div></div>',o+=w.hotCityTitle+t+p+h+w.searchDiv,o='<div id="city_fields" style="left:[left];top:[top];z-index:101;">'+o+"</div>";var a=l.offset().left+s.leftOffset+"px",n=l.offset().top+22+s.topOffset+"px";o=o.replace("[left]",a).replace("[top]",n),e("body").append(o),e("#city_fields .type ul li:first").addClass("active"),e("#city_fields .type").next("div").show()},k=function(e){clearTimeout(t),t=setTimeout(function(){Y(e)},i)},T=function(){0==e("div#city_fields").length?(D(),e("#searchDiv").hide(),e("#city_fields").width(342)):(e("#searchDiv").hide(),e("#city_fields").width(342),e(".type").show(),e("#city_fields").find("div.type_city_body:first").show(),e("#city_fields").find("div.type_city_body:gt(0)").hide())},S=function(t){if(""==t)return!1;-1!=t.indexOf("(")&&(t=t.split("(")[0]),t=t.replace(/[\*\|\?\^\$\\]/g,"");var i=new RegExp("\\^(?:"+t+"[^\\$]+)|(?:[^\\$]*\\|"+t+"[^\\$]*)(?:(?:\\|\\w{0,2}){2})\\$","gi"),a=s.dataSource.match(i),n="";if(null!=a)for(var r=0;r<a.length;r++){var l=C(a[r],y);n+=l.li}else n='<li class="empty">没有结果</li>';0==e("div#city_fields").length&&D(),e("#searchDiv").find("ul").html(n),e("#searchDiv").show(),0==e("#searchDiv").find("li.hover").length&&e("#searchDiv").find("li.li:first").addClass("hover"),e("#searchDiv").width(s.width),e("#searchDiv").height(s.height),e("#city_fields").width(s.width),e("#city_fields").height(s.height),e("#city_fields").find(".type").hide(),e("#city_fields").find("div.type_city_body").hide()},Y=function(t){e("#city_fields").remove(),e("#iframe_ie6").remove();var i=e.trim(l.val());"undefined"!=typeof t&&null!=t&&1==t?s.showSearchFlag&&!s.showQuickSelectFlag&&""==i?S("*"):s.showSearchFlag&&""!=i?S(i):T():s.showSearchFlag&&!s.showQuickSelectFlag?S("*"):T(),e.browser.msie&&"6.0"==e.browser.version&&(e("body").append(a.replace("[left1]",e("#city_fields").offset().left+"px").replace("[top1]",e("#city_fields").offset().top+"px")),e("#iframe_ie6").height(e("#city_fields").height()-20))},M=function(){if(e("#searchDiv").find("li.hover").length>0){var t=e("#searchDiv").find("li.hover"),i=t.attr("code"),a=t.find("span").text(),n=t.attr("nation"),r=t.attr("region"),o=t.attr("cityCode");l.next('input[type="hidden"]').val(i).attr("nation",n).attr("region",r).attr("cityCode",o),l.val(a).change()}},J=function(){if(0==l.closest("span.city_box").length){var t=l.attr("name");l.wrap(w.spanWrapper),l.addClass("city"),l.after('<input type="hidden" name="'+t+'"/>'),l.removeAttr("name")}s.behaviorFlag?(l.focus(function(){l.select(),e("input[active]").removeAttr("active"),l.attr("active","active"),k()}),l.click(k),l.blur(M),l.keyup(function(t){-1==e.inArray(t.keyCode,n)&&k(!0)})):(l.attr("readonly","readonly"),l.focus(function(){l.blur()}))};J()}}(jQuery),$("#city_fields .type").find("li[tips]").live("click",function(){var e=$(this).attr("tips");$("#city_fields .type_city_body").hide(),$("#city_fields").find("#"+e).show(),$("#city_fields .type li").removeClass("active"),$(this).addClass("active");var t=$("#city_fields").height();$("#iframe_ie6").css("height",t)}),$("#city_fields .hotCity .title").find(".col").live("click",function(){var e=$(this).attr("tips");$(this).parents(".hotCity").find(".city").hide(),$(this).parents(".hotCity").find("#"+e).show(),$(this).parents(".hotCity").find(".title").find(".col").removeClass("active"),$(this).addClass("active");var t=$(this).parents(".type_city_body").attr("id");"热门"==$(this).text()?$("#city_fields .tips b").text("热门城市"):"domestic_city"==t?$("#city_fields .tips b").text("拼音"+$(this).text()+"城市"):$("#city_fields .tips b").text($(this).text()+"城市");var i=$("#city_fields").height();$("#iframe_ie6").css("height",i)}),$("#city_fields").find(".li").live("hover",function(){$("#city_fields").find(".li").removeClass("hover"),$(this).addClass("hover")}),$("#city_fields").find("li.li").live("click",function(){var e=$(this).attr("code"),t=$(this).find("span").text(),i=$(this).attr("nation"),a=$(this).attr("region"),n=$(this).attr("cityCode"),r=$("input[active]"),l=r.next('input[type="hidden"]');r.val(t),l.val(e).attr("nation",i).attr("region",a).attr("cityCode",n),$("body").find("#city_fields,#iframe_ie6").remove(),r.removeAttr("active"),r.change(),r.blur()}),$(document).keyup(function(e){if(0==$("#searchDiv li.hover").length)return!1;var t=$("#searchDiv li.hover"),i=$("#searchDiv li.li"),a=i.length,n=$("#searchDiv li.hover").prevAll("li").length;switch(e.keyCode){case 13:t.click();break;case 38:i.removeClass("hover"),i.eq((n-1)%a).addClass("hover");break;case 40:i.removeClass("hover"),i.eq((n+1)%a).addClass("hover")}}),$(document).click(function(e){if(0==$(e.target).closest("#city_fields").length&&!$(e.target).is(".city")){var t=$("input.city[active]");$("#searchDiv .empty:visible").length>0&&(t.val(""),t.next('input[type="hidden"]').val("").removeAttr("region").removeAttr("nationCode").removeAttr("cityCode")),t.removeAttr("active"),$("#city_fields").remove()}});var config=$.extend(config||{},{isNMAF:!0}),_gaq=_gaq||[];if(_gaq.push(["_setAccount","UA-40178411-1"]),_gaq.push(["_setDomainName","ceair.com"]),function(){$.ajaxSetup({dataFilter:function(resText,textStatus){if(/sso-aidpofoiejflkjapdhfhr0913rijposidjfp0a/.test(resText)){if(window.config.isNMAF)return console.info("longin error and NMAF is true;"),"";throw eval(resText.substr(0,resText.indexOf("\n"))),"relogin"}return resText},timeout:6e4,error:[function(e,t){if("timeout"==t&&console.info("ajax timeout!"),400==e.status){alert("对不起！您输入内容含有非法字符");try{_gaq=_gaq||[],_gaq.push(["_trackEvent","ServerError",location.pathname,"非法字符"])}catch(i){console.info("trackEvent is error in alert !")}}}],dataType:"text"})}(),navigator.userAgent.indexOf("MSIE 8.0")>0)JSON=redefineJSON();else var JSON=JSON||redefineJSON();var CountDown=function(e){this.emptyFun=function(){return!0},this.startTime=e.startTime,this.endTime=e.endTime,this.nowTime=e.nowTime||new Date,this.startEvent=e.startEvent||this.emptyFun,this.endEvent=e.endEvent||this.emptyFun,this.container=e.container,this.format=e.format||"DD-HH-MM-SS",this.template=e.template||!1,this._timeout=null,this._interval=null};CountDown.prototype.run=function(){var e=this,t=e.startTime.getTime(),i=e.endTime.getTime(),a=e.nowTime.getTime(),n=0;a>=t?i>=a?(e.startEvent(),e._timeout=setTimeout(function(){e.endEvent(),clearTimeout(e._timeout)},i-a)):e.endEvent():(n=t-a,e.showCountDown(n),e._timeout=setTimeout(function(){clearInterval(e._interval),clearTimeout(e._timeout),e.startEvent(),e._timeout=setTimeout(function(){e.endEvent()},i-t)},n))},CountDown.prototype.showCountDown=function(){var e={DD:864e5,HH:36e5,MM:6e4,SS:1e3},t=function(t,i){var a=e[i],n=Math.floor(t/a);return{t:t-n*a,r:n}},i=function(e,i){for(var a=i.split(/[^\w]/),n={},r=e,l={},o=[],c=0;c<a.length;c++)l=t(r,a[c]),r=l.t,n[a[c]]=l.r,o.push(a[c]);o.reverse();for(var s={},d=0;d<o.length;d++)s[o[d]]=n[o[d]];return s},a=function(e,t){var i=t,a=[{reg:/(?:(([^\w]{1})(?=\d{1}([^\w]{1}|$))))/g,replace:"$10"},{reg:/(?:^(\d{1})([^\w]{1}))/,replace:"0$1$2"}];for(var n in e)i=i.replace(RegExp("({{|)"+n+"(}}|)","g"),e[n]);for(var r=0;r<a.length;r++)i=i.replace(a[r].reg,a[r].replace);return i},n=function(e){var t=!0;for(var i in e)t&&e[i]--,e[i]<0?(t=!0,e[i]="HH"!=i?59:23):t=!1;return e};return function(e){var t=this,r=t.template||t.format,l=startParam=i(e,t.format);t.printWrite(a(startParam,r)),t._interval=setInterval(function(){l=n(l),t.printWrite(a(l,r))},1e3)}}(),CountDown.prototype.printWrite=function(e){var t=this,i=t.container;i.is("input")?i.val(e):i.html(e)};var Scroll=function(e){var t=0,i=0,a=0,n='<span class="dot start"></span><span class="dot end"></span>',r=function(){return $(n)},l=function(e){var a=arguments[0].data[0],n=a.jq,r=a.fun,l=a.moveCon;t=e.pageX;var o=t-i;o<=l[0]?o=l[0]:o>=l[1]&&(o=l[1]),n.css("left",o+"px"),a.left=o,r(a,t)};return this.bindEventDot=function(e){var i=this,a=i.jqHtml;i.container;var n=$(a["start"==e?0:1]),r=i.dotInfo[e],o=0;r.interval=null,r.jq=n,n.mousedown(function(){var e=$(this);0==i.dotInfo.status&&(i.dotInfo.status=1,$("body").bind("mousemove.mv",[r],l),r.interval=setInterval(function(){o==t?e.mouseup():o=t},200))}).mouseup(function(){clearInterval(r.interval),$("body").unbind("mousemove.mv"),i.dotInfo.status=0,"start"==e?i.dotInfo.end.moveCon[0]=r.left+i.dotWidth:i.dotInfo.start.moveCon[1]=r.left-i.dotWidth,i.callback(r)})},this.clickEvent=function(){var e=this;this.container.bind("click",function(t){if(1==e.dotInfo.status)return!1;var a,n=t.pageX-i,r=e.dotInfo.start.left||0,o=e.dotInfo.end.left||e.scrollWidth-e.dotWidth,c=n-r-e.dotWidth,s=o-n;s>=c?(a=e.dotInfo.start,n=t.pageX):(a=e.dotInfo.end,n=t.pageX+e.dotWidth);var d={data:[a],pageX:n};l(d),a.jq.mouseup()})},this.init=function(e){return this.dotWidth=e.dotWidth,this.moveDis=e.scrollWidth-2*e.dotWidth,this.container=e.container,this.jqHtml=r(),this.dotInfo={start:{moveCon:[0,this.moveDis],fun:e.start.fun||function(){}},end:{moveCon:[e.dotWidth,this.moveDis+e.dotWidth],fun:e.end.fun||function(){}},status:0},this.callback=e.callback,i=e.container.offset().left+e.dotWidth,a=i+this.moveDis,this.bindEventDot("start"),this.bindEventDot("end"),this.clickEvent(),this.container[0].onselect=function(){window.event.preventDefault()},this},this.init(e)};!function(e){function t(e){switch(typeof e){case"function":break;default:throw"callback is not function"}}function i(e){if("[object Array]"!=Object.prototype.toString.call(e))throw"param is not string list"}function a(e,a,n,r){"function"==typeof a&&(r=n,n=a,a=[]),i(e),i(a),t(n),this.lockList=e,this.callback=n,this.arguments=a,this.thisObj=r||null}a.prototype.Unlock=function(e){for(var t=0;t<this.lockList.length;t++)this.lockList[t]===e&&this.lockList.splice(t,1);0==this.lockList.length&&null!=this.callback&&(this.callback.apply(this.thisObj,this.arguments),this.callback=null)},a.prototype.getLock=function(){return this.lockList},a.prototype.run=function(e,a,n){if("function"==typeof e&&(n=a,a=e,e=[]),i(e),t(a),0==this.lockList.length)a.apply(n,e);else{var r=this.callback;this.callback=function(){r.apply(this,arguments),a.apply(n,e)}}},e.AsyncLock=a}(window);